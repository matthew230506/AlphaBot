"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var timer = require('timer');
class survey {
    constructor() {
        this._command = 'survey';
    }
    help() {
        return 'Erstellt aus einer Nachicht eine Umfrage.';
    }
    isThisCommand(command) {
        return command === this._command;
    }
    runCommand(args, message, client) {
        message.react('üëç').then(() => message.react('üëé'));
        const ArgsTime = +args[0];
        const Time = ArgsTime * 60000;
        const filter = (reaction) => reaction.emoji.name === 'üëç';
        const collector = message.createReactionCollector(filter, { time: Time });
        var thumbsup = 0;
        collector.on('collect', (r) => console.log(`Collected ${r.emoji.name}`));
        collector.on('collect', (r) => (thumbsup = thumbsup + 1));
        const filter2 = (reaction) => reaction.emoji.name === 'üëé';
        const collector2 = message.createReactionCollector(filter2, { time: Time });
        var thumbsdown = 0;
        collector2.on('collect', (r) => console.log(`Collected ${r.emoji.name}`));
        collector2.on('collect', (r) => (thumbsdown = thumbsdown + 1));
        collector.on('end', (collected) => console.log(`Collected ${collected.size} items && finally ended survey`));
        collector.on('end', (collected) => message.reply(`deine Umfrage ist Abgelaufen. Das Ergebnis ist:üëç: ${thumbsup - 1}, üëé: ${thumbsdown - 1}.`));
    }
}
exports.default = survey;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic3VydmV5LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vc3JjL2NvbW1hbmRzL3N1cnZleS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBLElBQUksS0FBSyxHQUFHLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUU3QixNQUFxQixNQUFNO0lBQTNCO1FBQ2tCLGFBQVEsR0FBRyxRQUFRLENBQUM7SUFrQ3RDLENBQUM7SUFoQ0EsSUFBSTtRQUNILE9BQU8sMkNBQTJDLENBQUM7SUFDcEQsQ0FBQztJQUNELGFBQWEsQ0FBQyxPQUFlO1FBQzVCLE9BQU8sT0FBTyxLQUFLLElBQUksQ0FBQyxRQUFRLENBQUM7SUFDbEMsQ0FBQztJQUNELFVBQVUsQ0FBQyxJQUFjLEVBQUUsT0FBd0IsRUFBRSxNQUFzQjtRQUMxRSxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7UUFFcEQsTUFBTSxRQUFRLEdBQVcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDbEMsTUFBTSxJQUFJLEdBQVcsUUFBUSxHQUFHLEtBQUssQ0FBQztRQUd0QyxNQUFNLE1BQU0sR0FBRyxDQUFDLFFBQWlDLEVBQUUsRUFBRSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxLQUFLLElBQUksQ0FBQztRQUNuRixNQUFNLFNBQVMsR0FBRyxPQUFPLENBQUMsdUJBQXVCLENBQUMsTUFBTSxFQUFFLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxDQUFDLENBQUM7UUFDMUUsSUFBSSxRQUFRLEdBQVcsQ0FBQyxDQUFDO1FBQ3pCLFNBQVMsQ0FBQyxFQUFFLENBQUMsU0FBUyxFQUFFLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7UUFDekUsU0FBUyxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsUUFBUSxHQUFHLFFBQVEsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBRzFELE1BQU0sT0FBTyxHQUFHLENBQUMsUUFBaUMsRUFBRSxFQUFFLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLEtBQUssSUFBSSxDQUFDO1FBQ3BGLE1BQU0sVUFBVSxHQUFHLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQyxPQUFPLEVBQUUsRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztRQUM1RSxJQUFJLFVBQVUsR0FBVyxDQUFDLENBQUM7UUFDM0IsVUFBVSxDQUFDLEVBQUUsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxDQUFDLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQztRQUMxRSxVQUFVLENBQUMsRUFBRSxDQUFDLFNBQVMsRUFBRSxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxVQUFVLEdBQUcsVUFBVSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFHL0QsU0FBUyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsYUFBYSxTQUFTLENBQUMsSUFBSSxnQ0FBZ0MsQ0FBQyxDQUFDLENBQUM7UUFDN0csU0FBUyxDQUFDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxTQUFTLEVBQUUsRUFBRSxDQUNqQyxPQUFPLENBQUMsS0FBSyxDQUFDLHNEQUFzRCxRQUFRLEdBQUcsQ0FBQyxTQUFTLFVBQVUsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUMzRyxDQUFDO0lBQ0gsQ0FBQztDQUNEO0FBbkNELHlCQW1DQyJ9